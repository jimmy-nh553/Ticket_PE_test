import{P as v,S as O,da as C,ea as a,fa as l,ga as r,ha as T}from"./chunk-XDDGYLIL.js";import{d as b,x as _}from"./chunk-VDAMAAAC.js";import{Bb as u,Fa as f,M as m,S as i,Y as c,Zb as g,ca as h,ga as d,ia as y,oa as p,sa as S}from"./chunk-K5RBF46N.js";import{a as n}from"./chunk-4CLCTAJ7.js";var L=(()=>{class o extends r{name="common";static \u0275fac=(()=>{let e;return function(s){return(e||(e=d(o)))(s||o)}})();static \u0275prov=m({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),B=(()=>{class o{document=i(b);platformId=i(S);el=i(p);injector=i(y);cd=i(g);renderer=i(f);config=i(T);baseComponentStyle=i(L);baseStyle=i(r);scopedStyleEl;rootEl;dt;get styleOptions(){return{nonce:this.config?.csp().nonce}}get _name(){return this.constructor.name.replace(/^_/,"").toLowerCase()}get componentStyle(){return this._componentStyle}attrSelector=O("pc");_getHostInstance(e){if(e)return e?this.hostName?e.name===this.hostName?e:this._getHostInstance(e.parentInstance):e.parentInstance:void 0}_getOptionValue(e,t="",s={}){return v(e,t,s)}ngOnInit(){this.document&&this._loadStyles()}ngAfterViewInit(){this.rootEl=this.el?.nativeElement,this.rootEl&&this.rootEl?.setAttribute(this.attrSelector,"")}ngOnChanges(e){if(this.document&&!_(this.platformId)){let{dt:t}=e;t&&t.currentValue&&(this._loadScopedThemeStyles(t.currentValue),this._themeChangeListener(()=>this._loadScopedThemeStyles(t.currentValue)))}}ngOnDestroy(){this._unloadScopedThemeStyles()}_loadStyles(){let e=()=>{l.isStyleNameLoaded("base")||(this.baseStyle.loadCSS(this.styleOptions),l.setLoadedStyleName("base")),this._loadThemeStyles()};e(),this._themeChangeListener(()=>e())}_loadCoreStyles(){!l.isStyleNameLoaded("base")&&this._name&&(this.baseComponentStyle.loadCSS(this.styleOptions),this.componentStyle&&this.componentStyle?.loadCSS(this.styleOptions),l.setLoadedStyleName(this.componentStyle?.name))}_loadThemeStyles(){if(!a.isStyleNameLoaded("common")){let{primitive:e,semantic:t,global:s,style:I}=this.componentStyle?.getCommonTheme?.()||{};this.baseStyle.load(e?.css,n({name:"primitive-variables"},this.styleOptions)),this.baseStyle.load(t?.css,n({name:"semantic-variables"},this.styleOptions)),this.baseStyle.load(s?.css,n({name:"global-variables"},this.styleOptions)),this.baseStyle.loadTheme(n({name:"global-style"},this.styleOptions),I),a.setLoadedStyleName("common")}if(!a.isStyleNameLoaded(this.componentStyle?.name)&&this.componentStyle?.name){let{css:e,style:t}=this.componentStyle?.getComponentTheme?.()||{};this.componentStyle?.load(e,n({name:`${this.componentStyle?.name}-variables`},this.styleOptions)),this.componentStyle?.loadTheme(n({name:`${this.componentStyle?.name}-style`},this.styleOptions),t),a.setLoadedStyleName(this.componentStyle?.name)}if(!a.isStyleNameLoaded("layer-order")){let e=this.componentStyle?.getLayerOrderThemeCSS?.();this.baseStyle.load(e,n({name:"layer-order",first:!0},this.styleOptions)),a.setLoadedStyleName("layer-order")}this.dt&&(this._loadScopedThemeStyles(this.dt),this._themeChangeListener(()=>this._loadScopedThemeStyles(this.dt)))}_loadScopedThemeStyles(e){let{css:t}=this.componentStyle?.getPresetTheme?.(e,`[${this.attrSelector}]`)||{},s=this.componentStyle?.load(t,n({name:`${this.attrSelector}-${this.componentStyle?.name}`},this.styleOptions));this.scopedStyleEl=s?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(e=()=>{}){l.clearLoadedStyleNames(),C.on("theme:change",e)}cx(e,t){let s=this.parent?this.parent.componentStyle?.classes?.[e]:this.componentStyle?.classes?.[e];return typeof s=="function"?s({instance:this}):typeof s=="string"?s:e}sx(e){let t=this.componentStyle?.inlineStyles?.[e];return typeof t=="function"?t({instance:this}):typeof t=="string"?t:n({},t)}get parent(){return this.parentInstance}static \u0275fac=function(t){return new(t||o)};static \u0275dir=c({type:o,inputs:{dt:"dt"},standalone:!0,features:[u([L,r]),h]})}return o})();export{B as a};
