import{a as G,b as H}from"./chunk-CNDIVVUN.js";import{d as L,g as W,j as $}from"./chunk-X5WX7QWY.js";import{a as F}from"./chunk-GPQYUW7I.js";import"./chunk-RPLDP4LT.js";import{a as z}from"./chunk-VCLJSZIP.js";import"./chunk-HEYRUS75.js";import"./chunk-X2Y62DJS.js";import"./chunk-JBR4PRVN.js";import{c as B,d as N,e as R,j as V}from"./chunk-WPZQ3JMC.js";import"./chunk-NLBVP2SK.js";import"./chunk-XDDGYLIL.js";import"./chunk-4YRY4IP2.js";import{r as j,u as A}from"./chunk-VDAMAAAC.js";import{$a as o,Aa as u,Ab as E,Cb as k,H as x,Mb as U,Oa as C,Ob as T,Pb as D,Ra as d,Va as _,W as b,ab as n,bb as f,da as m,ea as c,f as y,fb as S,jb as M,u as h,ub as s,vb as p,wb as O,xb as w,yb as P,za as r,zb as I}from"./chunk-K5RBF46N.js";import{a as v}from"./chunk-4CLCTAJ7.js";function K(l,e){if(l&1&&(o(0,"span",16),f(1,"i"),n(),o(2,"span"),s(3),n()),l&2){let t=e.$implicit;r(),_(t.icon),r(2),p(t.label)}}var q=class l{constructor(e,t){this._userService=e;this._router=t}destroy$=new y;menuOptions=[];selectedTab={label:"Perfil",icon:"pi pi-user",value:"pefil",route:"/mi-cuenta"};userCopy={};ticketsPluralPipe={"=0":"tickets","=1":"ticket",other:"tickets"};genders=[];departments=[];provinces=[];districts=[];ngOnInit(){this.menuOptions=[{label:"Perfil",icon:"pi pi-user",value:"pefil",route:"/mi-cuenta"},{label:"Historial",icon:"pi pi-history",value:"historial",route:"/mi-cuenta/historial"},{label:"Ajustes",icon:"pi pi-cog",value:"ajustes",route:"/mi-cuenta/ajustes"},{label:"Seguridad",icon:"pi pi-shield",value:"seguridad",route:"/mi-cuenta/seguridad"}];let e=this._router.url;this.selectedTab=this.menuOptions.find(t=>e===t.route)||this.menuOptions[0],this.listenToUrlChanges(),this.getUserInfo()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getUserInfo(){this._userService.getUserInfo().subscribe(e=>{this.userCopy=v({},e)})}listenToUrlChanges(){this._router.events.pipe(h(e=>e instanceof B),x(this.destroy$)).subscribe(e=>{this.selectedTab=this.menuOptions.find(t=>e.urlAfterRedirects===t.route)||this.menuOptions[0]})}get user(){return this._userService.userInfo}itemClick(e){this._router.navigateByUrl(e.option.route)}static \u0275fac=function(t){return new(t||l)(u(z),u(R))};static \u0275cmp=b({type:l,selectors:[["app-my-account-page"]],standalone:!0,features:[k],decls:27,vars:12,consts:[["item",""],[1,"container","max-w-5xl","mx-auto","my-10","flex","flex-col","w-full","gap-2","px-4"],[1,"flex","flex-col","gap-4"],[1,"shadow-md","flex","justify-between","border","border-zinc-300","p-3","rounded-lg"],[1,"flex","items-center","gap-4"],[1,"w-10","h-10","bg-red-500","rounded-full","flex","items-center","justify-center"],[1,"text-white","text-xs","font-bold"],[1,"font-semibold","text"],[1,"text-sm","text-zinc-500"],[1,"flex","justify-center","items-center","gap-2","font-semibold"],[1,"flex","flex-col","md:flex-row","md:gap-2","items-end"],[1,"flex","gap-2","items-center"],[1,"material-icons","flex","items-center","mt-1"],[1,"text-xl","md:text-3xl"],[1,"text-zinc-500","font-normal"],["optionLabel","label","styleClass","w-full",1,"w-full",3,"ngModelChange","onOptionClick","options","ngModel","allowEmpty"],[1,"hidden","md:inline"]],template:function(t,i){if(t&1){let g=S();o(0,"shared-header-footer-container")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5)(6,"span",6),s(7),n()(),o(8,"div")(9,"p",7),s(10),n(),o(11,"p",8),s(12),n()()(),o(13,"div",9)(14,"div",10)(15,"div",11)(16,"i",12),s(17,"local_activity"),n(),o(18,"span",13),s(19),n()(),o(20,"span",14),s(21),U(22,"i18nPlural"),n()()()(),o(23,"p-selectbutton",15),E("ngModelChange",function(a){return m(g),I(i.selectedTab,a)||(i.selectedTab=a),c(a)}),M("onOptionClick",function(a){return m(g),c(i.itemClick(a))}),C(24,K,4,3,"ng-template",null,0,D),n()(),f(26,"router-outlet"),n()()}t&2&&(r(7),O(" ",i.user.userInitials," "),r(3),w("",i.user.name," ",i.user.partenalLastName,""),r(2),p(i.user.email),r(7),p(i.user.tickets),r(2),p(T(22,9,i.user.tickets,i.ticketsPluralPipe)),r(2),d("options",i.menuOptions),P("ngModel",i.selectedTab),d("allowEmpty",!1))},dependencies:[A,j,$,L,W,F,H,G,V,N],styles:[".material-icons[_ngcontent-%COMP%]{color:#ff5733;font-size:25px}"]})};export{q as MyAccountPageComponent};
