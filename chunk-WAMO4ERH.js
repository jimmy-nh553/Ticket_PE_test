import{k,l as G}from"./chunk-MDFODGFC.js";import{b as V,c as A}from"./chunk-YXGW5C3D.js";import"./chunk-45ZPYATT.js";import{a as B,b as F}from"./chunk-2XU7JKIX.js";import{b as O,d as j,g as I,j as x}from"./chunk-X5WX7QWY.js";import{a as T}from"./chunk-VCLJSZIP.js";import"./chunk-HEYRUS75.js";import"./chunk-X2Y62DJS.js";import"./chunk-JBR4PRVN.js";import{a as U}from"./chunk-NLBVP2SK.js";import"./chunk-XDDGYLIL.js";import"./chunk-4YRY4IP2.js";import{u as L}from"./chunk-VDAMAAAC.js";import{$a as i,Aa as b,Ab as m,Cb as D,M as S,Oa as W,R as w,Ra as g,W as v,Wa as N,ab as n,da as C,ea as _,fb as E,j as c,jb as P,kb as y,t as M,ub as a,v as h,yb as p,za as l,zb as d}from"./chunk-K5RBF46N.js";import"./chunk-4CLCTAJ7.js";var f=class u{constructor(s){this._http=s}getDepartments(){return c([{no:"DE-001",description:"Lima"}])}getProvinces(s){return c([{no:"PR-001",description:"Lima"}])}getDistricts(s){return c([{no:"DI-001",description:"San Isidro"},{no:"DI-002",description:"Pueblo Libre"},{no:"DI-003",description:"Jes\xFAs Mar\xEDa"},{no:"DI-004",description:"La Molina"}])}getGenders(){return[{no:"m",description:"Masculino"},{no:"f",description:"Femenino"}]}static \u0275fac=function(o){return new(o||u)(w(U))};static \u0275prov=S({token:u,factory:u.\u0275fac,providedIn:"root"})};function J(u,s){if(u&1){let o=E();i(0,"h3",10),a(1,"Datos del apoderado"),n(),i(2,"div",4)(3,"label",5),a(4,"Nombre de apoderado:"),n(),i(5,"input",6),m("ngModelChange",function(r){C(o);let e=y();return d(e.userCopy.representativeName,r)||(e.userCopy.representativeName=r),_(r)}),n()(),i(6,"div",4)(7,"label",5),a(8,"Apellido paterno:"),n(),i(9,"input",6),m("ngModelChange",function(r){C(o);let e=y();return d(e.userCopy.representativePartenalLastName,r)||(e.userCopy.representativePartenalLastName=r),_(r)}),n()(),i(10,"div",4)(11,"label",5),a(12,"Apellido paterno:"),n(),i(13,"input",6),m("ngModelChange",function(r){C(o);let e=y();return d(e.userCopy.representativeMartenalLastName,r)||(e.userCopy.representativeMartenalLastName=r),_(r)}),n()(),i(14,"div",4)(15,"label",5),a(16,"N\xFAmero de documento:"),n(),i(17,"input",6),m("ngModelChange",function(r){C(o);let e=y();return d(e.userCopy.representativeNumDoc,r)||(e.userCopy.representativeNumDoc=r),_(r)}),n()(),i(18,"div",4)(19,"label",5),a(20,"N\xFAmero de tel\xE9fono:"),n(),i(21,"input",6),m("ngModelChange",function(r){C(o);let e=y();return d(e.userCopy.representativePhoneNumber,r)||(e.userCopy.representativePhoneNumber=r),_(r)}),n()()}if(u&2){let o=y();l(5),p("ngModel",o.userCopy.representativeName),l(4),p("ngModel",o.userCopy.representativePartenalLastName),l(4),p("ngModel",o.userCopy.representativeMartenalLastName),l(4),p("ngModel",o.userCopy.representativeNumDoc),l(4),p("ngModel",o.userCopy.representativePhoneNumber)}}var z=class u{constructor(s,o){this._userService=s;this._companyService=o}userCopy={numDoc:"",docType:"",name:"",partenalLastName:"",maternalLastName:"",phoneNumber:"",address:"",district:"",department:"",province:"",gender:"",birthdate:new Date,email:"",representativeName:"",representativePartenalLastName:"",representativeMartenalLastName:"",representativeNumDoc:"",representativePhoneNumber:"",tickets:0,userInitials:"",districtObj:{no:"",description:""},departmentObj:{no:"",description:""},provinceObj:{no:"",description:""},genderObj:{no:"",description:""}};genders=[];departments=[];provinces=[];districts=[];ngOnInit(){this.getData()}getData(){this.genders=this._companyService.getGenders(),M({departments:this._companyService.getDepartments().pipe(h(()=>c(null))),user:this._userService.getUserInfo().pipe(h(()=>c(null)))}).subscribe(s=>{this.departments=s.departments||[],this.userCopy=s.user||{}},s=>{console.error("Error loading data",s)})}getProvinces(){this._companyService.getProvinces(this.userCopy.departmentObj.no).subscribe(s=>{this.provinces=s})}getDistricts(){this._companyService.getDistricts(this.userCopy.provinceObj.no).subscribe(s=>{this.districts=s})}getPropertyNo(s){let o=this.userCopy[s];return o&&typeof o=="object"&&"no"in o?o.no??"":""}isMinor(){let s=new Date,o=s.getFullYear()-this.userCopy.birthdate.getFullYear(),t=new Date(s.getFullYear(),this.userCopy.birthdate.getMonth(),this.userCopy.birthdate.getDate());return o<18||o===18&&s<t}static \u0275fac=function(o){return new(o||u)(b(T),b(f))};static \u0275cmp=v({type:u,selectors:[["app-user-profile-page"]],standalone:!0,features:[D],decls:61,vars:21,consts:[[1,"shadow-md","border","border-zinc-300","p-4","pb-6","rounded-lg"],[1,"text-lg","font-semibold"],[1,"text-sm","text-zinc-400"],[1,"grid","grid-cols-12","gap-4","mt-4"],[1,"flex","flex-col","col-span-12","md:col-span-6"],["for","txtName",1,"text-sm","text-slate-500","font-medium","mb-2"],["type","text","id","txtName","pInputText","",3,"ngModelChange","ngModel"],["placeholder","Seleccione","optionLabel","description",1,"w-full",3,"ngModelChange","options","ngModel"],["for","txtfechaNacimiento",1,"text-sm","text-slate-500","font-medium","mb-2"],["inputId","txtfechaNacimiento","styleClass","w-full","placeholder","dd/mm/yyyy","dateFormat","dd/mm/yy",3,"ngModelChange","ngModel","iconDisplay","showIcon"],[1,"font-semibold","col-span-12"],["placeholder","Seleccione","optionLabel","description",1,"w-full",3,"ngModelChange","options","ngModel","disabled"],[1,"text-center","my-4"],[1,"rounded-xl","font-semibold","shadow-lg","bg-red-500","text-white","px-4","py-1","transition","duration-300","ease-in-out","hover:bg-red-600"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div")(2,"h2",1),a(3,"Informaci\xF3n Personal"),n(),i(4,"p",2),a(5,"Actualiza tu informaci\xF3n personal y de contacto"),n()(),i(6,"div",3)(7,"div",4)(8,"label",5),a(9,"Tipo de documento:"),n(),i(10,"input",6),m("ngModelChange",function(e){return d(t.userCopy.docType,e)||(t.userCopy.docType=e),e}),n()(),i(11,"div",4)(12,"label",5),a(13,"N\xFAmero de documento:"),n(),i(14,"input",6),m("ngModelChange",function(e){return d(t.userCopy.numDoc,e)||(t.userCopy.numDoc=e),e}),n()(),i(15,"div",4)(16,"label",5),a(17,"Nombre:"),n(),i(18,"input",6),m("ngModelChange",function(e){return d(t.userCopy.name,e)||(t.userCopy.name=e),e}),n()(),i(19,"div",4)(20,"label",5),a(21,"Apellido paterno:"),n(),i(22,"input",6),m("ngModelChange",function(e){return d(t.userCopy.partenalLastName,e)||(t.userCopy.partenalLastName=e),e}),n()(),i(23,"div",4)(24,"label",5),a(25,"Apellido materno:"),n(),i(26,"input",6),m("ngModelChange",function(e){return d(t.userCopy.maternalLastName,e)||(t.userCopy.maternalLastName=e),e}),n()(),i(27,"div",4)(28,"label",5),a(29,"Tel\xE9fono:"),n(),i(30,"input",6),m("ngModelChange",function(e){return d(t.userCopy.phoneNumber,e)||(t.userCopy.phoneNumber=e),e}),n()(),i(31,"div",4)(32,"label",5),a(33,"G\xE9nero:"),n(),i(34,"p-select",7),m("ngModelChange",function(e){return d(t.userCopy.genderObj,e)||(t.userCopy.genderObj=e),e}),n()(),i(35,"div",4)(36,"label",8),a(37,"Fecha de nacimiento:"),n(),i(38,"p-datepicker",9),m("ngModelChange",function(e){return d(t.userCopy.birthdate,e)||(t.userCopy.birthdate=e),e}),n()(),i(39,"h3",10),a(40,"Direcci\xF3n"),n(),i(41,"div",4)(42,"label",5),a(43,"Direcci\xF3n:"),n(),i(44,"input",6),m("ngModelChange",function(e){return d(t.userCopy.address,e)||(t.userCopy.address=e),e}),n()(),i(45,"div",4)(46,"label",5),a(47,"Departamento:"),n(),i(48,"p-select",7),m("ngModelChange",function(e){return d(t.userCopy.departmentObj,e)||(t.userCopy.departmentObj=e),e}),P("ngModelChange",function(){return t.getProvinces()}),n()(),i(49,"div",4)(50,"label",5),a(51,"Provincia:"),n(),i(52,"p-select",11),m("ngModelChange",function(e){return d(t.userCopy.provinceObj,e)||(t.userCopy.provinceObj=e),e}),P("ngModelChange",function(){return t.getDistricts()}),n()(),i(53,"div",4)(54,"label",5),a(55,"Distrito:"),n(),i(56,"p-select",11),m("ngModelChange",function(e){return d(t.userCopy.districtObj,e)||(t.userCopy.districtObj=e),e}),n()(),W(57,J,22,5),n(),i(58,"div",12)(59,"button",13),a(60," Guardar cambios "),n()()()),o&2&&(l(10),p("ngModel",t.userCopy.docType),l(4),p("ngModel",t.userCopy.numDoc),l(4),p("ngModel",t.userCopy.name),l(4),p("ngModel",t.userCopy.partenalLastName),l(4),p("ngModel",t.userCopy.maternalLastName),l(4),p("ngModel",t.userCopy.phoneNumber),l(4),g("options",t.genders),p("ngModel",t.userCopy.genderObj),l(4),p("ngModel",t.userCopy.birthdate),g("iconDisplay","input")("showIcon",!0),l(6),p("ngModel",t.userCopy.address),l(4),g("options",t.departments),p("ngModel",t.userCopy.departmentObj),l(4),g("options",t.provinces),p("ngModel",t.userCopy.provinceObj),g("disabled",t.getPropertyNo("departmentObj").length===0),l(4),g("options",t.districts),p("ngModel",t.userCopy.districtObj),g("disabled",t.getPropertyNo("provinceObj").length===0),l(),N(t.isMinor()?57:-1))},dependencies:[L,x,O,j,I,F,B,A,V,G,k]})};export{z as UserProfilePageComponent};
